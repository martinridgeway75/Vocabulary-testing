!function(e){e.slickQuiz=function(t,n){var o=this,r=e(t),s="#"+r.attr("id"),a={json:{info:{name:"No vocabulary available.",main:"",results:"",level1:"well done!",level2:"you know a lot!",level3:"you have some knowledge. Keep studying!",level4:"practice more!",level5:"please practice more!"},questions:[]},nameOfThisQuiz:"default",checkAnswerText:"Check answer",nextQuestionText:"Next &raquo;",backButtonText:"&laquo; Back",completeQuizText:"View results",tryAgainText:"Try again",questionCountText:"Question %current of %total",preventUnansweredText:"You must select an answer.",questionTemplateText:"%count. %text",scoreTemplateText:"%score / %total",nameTemplateText:"<span>Quiz: </span>%name",skipStartButton:!0,numberOfQuestions:null,randomSortQuestions:!0,randomSortAnswers:!0,preventUnanswered:!0,disableScore:!1,disableRanking:!1,scoreAsPercentage:!1,perQuestionResponseMessaging:!0,perQuestionResponseAnswers:!0,completionResponseMessaging:!0,displayQuestionCount:!0,displayQuestionNumber:!0,animationCallbacks:{setupQuiz:function(){},startQuiz:function(){},resetQuiz:function(){},checkAnswer:function(){},nextQuestion:function(){},backToQuestion:function(){},completeQuiz:function(){}},events:{onStartQuiz:function(){},onCompleteQuiz:function(){}}},l="questionCount",i="questions",c="question",u="answers",d="responses",f="complete",h="correctResponse",g="incorrectResponse",p="imc",m="inc",v="checkAnswer",y="nextQuestion",b="lastQuestion",C="backToQuestion",w="tryAgain",x="."+l,E="."+i,k="."+c,T="."+u,Q="."+u+" li",A="."+d,L="."+d+" li",q="."+h,S="."+p,O="."+m,N="."+v,z="."+y,M="."+C,B="."+w,_=s+" .startQuiz",R=s+" .quizName",I=s+" .quizArea",K=s+" .quizResults",P=s+" .quizResultsCopy",j=s+" .quizHeader",D=s+" .quizScore",U=s+" .quizLevel",F=e(_),G=e(R),J=e(I),V=e(K),Y=e(P),H=e(j),W=e(U),X="";n&&"undefined"!=typeof n.disableNext&&("undefined"==typeof n.preventUnanswered&&(n.preventUnanswered=n.disableNext),X+="The 'disableNext' option has been deprecated, please use 'preventUnanswered' in it's place.\n\n"),n&&"undefined"!=typeof n.disableResponseMessaging&&("undefined"==typeof n.preventUnanswered&&(n.perQuestionResponseMessaging=n.disableResponseMessaging),X+="The 'disableResponseMessaging' option has been deprecated, please use 'perQuestionResponseMessaging' and 'completionResponseMessaging' in it's place.\n\n"),n&&"undefined"!=typeof n.randomSort&&("undefined"==typeof n.randomSortQuestions&&(n.randomSortQuestions=n.randomSort),"undefined"==typeof n.randomSortAnswers&&(n.randomSortAnswers=n.randomSort),X+="The 'randomSort' option has been deprecated, please use 'randomSortQuestions' and 'randomSortAnswers' in it's place.\n\n"),""!==X&&("undefined"!=typeof console?console.warn(X):alert(X)),o.config=e.extend(a,n);var Z=o.config.json?o.config.json:null,$=o.config.randomSortQuestions?Z.questions.sort(function(){return Math.round(Math.random())-.5}):Z.questions,et=$.length;o.config.numberOfQuestions&&et>=o.config.numberOfQuestions&&($=$.slice(0,o.config.numberOfQuestions),et=$.length);var tt={method:{getKey:function(t){for(var n=[],o=0;t>o;o++)n[o]=e.Deferred();return n},turnKeyAndGo:function(t,n){e.when.apply(null,t).then(function(){n()})},getKeyNotch:function(e,t){return function(){e[t-1].resolve()}}}};o.method={setupQuiz:function(t){var n,s,a;n=tt.method.getKey(3),s=tt.method.getKeyNotch,a=s,G.hide().html(o.config.nameTemplateText.replace("%name",Z.info.name)).fadeIn(1e3,a(n,1)),H.hide().prepend(e('<div class="quizDescription">'+Z.info.main+"</div>")).fadeIn(1e3,a(n,2)),Y.append(Z.info.results),o.config.tryAgainText&&""!==o.config.tryAgainText&&Y.append('<p><a class="btn btn-primary btn-sm '+w+'" href="#">'+o.config.tryAgainText+"</a></p>");var f=e('<ol class="'+i+'"></ol>'),h=1;for(var g in $)if($.hasOwnProperty(g)){var x=$[g],E=e('<li class="'+c+'" id="question'+(h-1)+'"></li>');o.config.displayQuestionCount&&E.append('<div class="'+l+'">'+o.config.questionCountText.replace("%current",'<span class="current">'+h+"</span>").replace("%total",'<span class="total">'+et+"</span>")+"</div>");var k="";k=o.config.displayQuestionNumber?o.config.questionTemplateText.replace("%count",h).replace("%text",x.q):x.q,E.append("<h3>"+k+"</h3>");var T=0;for(g in x.a)x.a.hasOwnProperty(g)&&(Q=x.a[g],Q.imc&&T++);var Q,A=e('<ul class="'+u+'"></ul>'),L=o.config.randomSortAnswers?x.a.sort(function(){return Math.round(Math.random())-.5}):x.a,q=x.select_any?x.select_any:!1,S=x.force_checkbox?x.force_checkbox:!1,O=T>1&&!q||S,N=r.attr("id")+"_question"+(h-1),z=O?"checkbox":"radio";h==Z.questions.length&&(y=y+" "+b);for(var M in L)if(L.hasOwnProperty(M)){Q=L[M];var B=N+"_"+M.toString(),_='<input id="'+B+'" name="'+N+'" type="'+z+'" /> ',R='<label for="'+B+'">'+Q.option+"</label>",I=e('<li class="radio"></li>').append(_).append(R);A.append(I)}if(E.append(A),o.config.perQuestionResponseMessaging||o.config.completionResponseMessaging){var K=e('<ul class="'+d+'"></ul>');K.append('<li class="'+p+'">'+x.imc+"</li>"),K.append('<li class="'+m+'">'+x.inc+"</li>"),E.append(K)}o.config.backButtonText&&""!==o.config.backButtonText&&E.append('<a href="#" class="btn btn-info btn-sm '+C+'">'+o.config.backButtonText+"</a>");var P=o.config.nextQuestionText;o.config.completeQuizText&&h==et&&(P=o.config.completeQuizText),o.config.perQuestionResponseMessaging?(E.append('<a href="#" class="btn btn-primary btn-sm '+y+'">'+P+"</a>"),E.append('<a href="#" class="btn btn-info btn-sm '+v+'">'+o.config.checkAnswerText+"</a>")):E.append('<a href="#" class="btn btn-primary btn-sm '+y+" "+v+'">'+P+"</a>"),f.append(E),h++}J.append(f),o.config.skipStartButton||0===F.length?(F.hide(),o.method.startQuiz.apply(this,[{callback:o.config.animationCallbacks.startQuiz}]),a(n,3).apply(null,[])):F.fadeIn(500,a(n,3)),tt.method.turnKeyAndGo(n,t&&t.callback?t.callback:function(){})},startQuiz:function(t){function n(t){var n=e(s+" "+E+" li").first();n.length&&n.fadeIn(500,function(){t&&t.callback&&t.callback()})}var r,a,l;r=tt.method.getKey(1),a=tt.method.getKeyNotch,l=a,o.config.skipStartButton||0===F.length?n({callback:l(r,1)}):F.fadeOut(300,function(){n({callback:l(r,1)})}),tt.method.turnKeyAndGo(r,t&&t.callback?t.callback:function(){}),o.config.events&&o.config.events.onStartQuiz&&o.config.events.onStartQuiz.apply(null,[])},resetQuiz:function(t,n){var r,a,l;r=tt.method.getKey(1),a=tt.method.getKeyNotch,l=a,V.fadeOut(300,function(){e(s+" input").prop("checked",!1).prop("disabled",!1),W.attr("class","quizLevel"),e(s+" "+k).removeClass(h).removeClass(g).remove(f),e(s+" "+Q).removeClass(p).removeClass(m),e(s+" "+k+","+s+" "+A+","+s+" "+L+","+s+" "+z+","+s+" "+M).hide(),e(s+" "+x+","+s+" "+T+","+s+" "+N).show(),J.append(e(s+" "+E)).show(),l(r,1).apply(null,[]),o.method.startQuiz({callback:o.config.animationCallbacks.startQuiz},V)}),tt.method.turnKeyAndGo(r,n&&n.callback?n.callback:function(){})},checkAnswer:function(t,n){var r,s,a;r=tt.method.getKey(2),s=tt.method.getKeyNotch,a=s;var l=e(e(t).parents(k)[0]),i=l.find(T+" li"),c=i.find("input:checked"),u=parseInt(l.attr("id").replace(/(question)/,""),10),d=$[u].a,v=$[u].select_any?$[u].select_any:!1;i.addClass(m);var y=[];for(var b in d)if(d.hasOwnProperty(b)){var C=d[b],w=parseInt(b,10);C.imc&&(y.push(w),i.eq(w).removeClass(m).addClass(p))}var x=[];if(c.each(function(){var t=e(this).attr("id");x.push(parseInt(t.replace(/(.*\_question\d{1,}_)/,""),10))}),o.config.preventUnanswered&&0===x.length)return alert(o.config.preventUnansweredText),!1;var E=o.method.compareAnswers(y,x,v);l.addClass(E?h:g),l.find(E?S:O).show(),o.config.perQuestionResponseMessaging?(e(t).hide(),o.config.perQuestionResponseAnswers?l.addClass(f):l.find(T).hide({duration:0,complete:function(){l.addClass(f)}}),l.find("input").prop("disabled",!0),l.find(A).show(),l.find(z).fadeIn(300,a(r,1)),l.find(M).fadeIn(300,a(r,2)),l.find(M).length||a(r,2).apply(null,[])):(a(r,1).apply(null,[]),a(r,2).apply(null,[])),tt.method.turnKeyAndGo(r,n&&n.callback?n.callback:function(){})},nextQuestion:function(t,n){var r,s,a;r=tt.method.getKey(1),s=tt.method.getKeyNotch,a=s;var l=e(e(t).parents(k)[0]),i=l.next(k),c=l.find("input:checked");return o.config.preventUnanswered&&0===c.length?!1:(i.length?l.fadeOut(300,function(){i.find(M).show().end().fadeIn(500,a(r,1)),i.find(M).show().end().length||a(r,1).apply(null,[])}):(a(r,1).apply(null,[]),o.method.completeQuiz({callback:o.config.animationCallbacks.completeQuiz})),void tt.method.turnKeyAndGo(r,n&&n.callback?n.callback:function(){}))},backToQuestion:function(t,n){var o,r,s;o=tt.method.getKey(2),r=tt.method.getKeyNotch,s=r;var a=e(e(t).parents(k)[0]),l=a.find(A);if("block"===l.css("display"))a.find(A).fadeOut(300,function(){a.removeClass(h).removeClass(g).removeClass(f),a.find(A+", "+L).hide(),a.find(T).show(),a.find(Q).removeClass(p).removeClass(m),a.find("input").prop("disabled",!1),a.find(T).fadeIn(500,s(o,1)),a.find(N).fadeIn(500,s(o,2)),a.find(z).hide(),"question0"!=a.attr("id")?a.find(M).show():a.find(M).hide()});else{var i=a.prev(k);a.fadeOut(300,function(){i.removeClass(h).removeClass(g).removeClass(f),i.find(A+", "+L).hide(),i.find(T).show(),i.find(Q).removeClass(p).removeClass(m),i.find("input").prop("disabled",!1),i.find(z).hide(),i.find(N).show(),"question0"!=i.attr("id")?i.find(M).show():i.find(M).hide(),i.fadeIn(500,s(o,1)),s(o,2).apply(null,[])})}tt.method.turnKeyAndGo(o,n&&n.callback?n.callback:function(){})},completeQuiz:function(t){var n,r,a;n=tt.method.getKey(1),r=tt.method.getKeyNotch,a=r;var l=e(s+" "+q).length,i=l;if(o.config.scoreAsPercentage&&(i=100*(l/et).toFixed(2)+"%"),o.config.disableScore?e(D).remove():e(D+" span").html(o.config.scoreTemplateText.replace("%score",i).replace("%total",et)),o.config.disableRanking)e(U).remove();else{var c=[Z.info.level1,Z.info.level2,Z.info.level3,Z.info.level4,Z.info.level5],u=o.method.calculateLevel(l),d=e.isNumeric(u)?c[u]:"";e(U+" span").html(d),e(U).addClass("level"+u)}J.fadeOut(300,function(){o.config.completionResponseMessaging?(e(s+" .btn:not("+B+"), "+s+" "+x).hide(),e(s+" "+k+", "+s+" "+T+", "+s+" "+A).show(),V.append(e(s+" "+E)).fadeIn(500,a(n,1))):V.fadeIn(500,a(n,1))}),tt.method.turnKeyAndGo(n,t&&t.callback?t.callback:function(){}),o.config.events&&o.config.events.onCompleteQuiz&&o.config.events.onCompleteQuiz.apply(null,[{questionCount:et,score:l}])},compareAnswers:function(t,n,o){return o?e.inArray(n[0],t)>-1:0===e(t).not(n).length&&0===e(n).not(t).length},calculateLevel:function(e){var t=(e/et).toFixed(2),n=null;return o.method.inRange(0,.2,t)?n=4:o.method.inRange(.21,.4,t)?n=3:o.method.inRange(.41,.6,t)?n=2:o.method.inRange(.61,.8,t)?n=1:o.method.inRange(.81,1,t)&&(n=0),n},inRange:function(e,t,n){return n>=e&&t>=n}},o.init=function(){o.method.setupQuiz.apply(null,[{callback:o.config.animationCallbacks.setupQuiz}]),F.on("click",function(t){t.preventDefault(),this.disabled||e(this).hasClass("disabled")||o.method.startQuiz.apply(null,[{callback:o.config.animationCallbacks.startQuiz}])}),e(s+" "+B).on("click",function(e){e.preventDefault(),o.method.resetQuiz(this,{callback:o.config.animationCallbacks.resetQuiz})}),e(s+" "+N).on("click",function(e){e.preventDefault(),o.method.checkAnswer(this,{callback:o.config.animationCallbacks.checkAnswer})}),e(s+" "+M).on("click",function(e){e.preventDefault(),o.method.backToQuestion(this,{callback:o.config.animationCallbacks.backToQuestion})}),e(s+" "+z).on("click",function(e){e.preventDefault(),o.method.nextQuestion(this,{callback:o.config.animationCallbacks.nextQuestion})});var t=r.attr("id")+"-name";G.attr("id",t),r.attr({"aria-labelledby":t,"aria-live":"polite","aria-relevant":"additions",role:"form"}),e(_+', [href = "#"]').attr("role","button")},o.init()},e.fn.slickQuiz=function(t){return this.each(function(){if(void 0===e(this).data("slickQuiz")){var n=new e.slickQuiz(this,t);e(this).data("slickQuiz",n)}})}}(jQuery);
//# sourceMappingURL=slickquiz.min.js.map